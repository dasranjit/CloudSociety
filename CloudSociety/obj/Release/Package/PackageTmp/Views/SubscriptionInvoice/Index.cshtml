@model IEnumerable<CloudSocietyEntities.SubscriptionInvoice>
@{
    ViewBag.Title = "Subscription Invoice";
    ViewBag.Header = "Subscription Invoice";
}

<br />
<table border="0" cellpadding="2" cellspacing="0" class="table">
    @{
        int Count = 1;
    }
    @foreach (var item in Model)
    {
        if (Count == 1)
        {
        <tr>
            <th>
            </th>
            <th>
                Invoice No
            </th>
            <th>
                Invoice Date
            </th>
            <th>
                Due Date
            </th>
            <th>
                Party
            </th>
            <th>
                Contact Person
            </th>
            <th>
                Phone No
            </th>
            <th>
                Mobile No
            </th>
            <th>
                Coupon No
            </th>
            <th>
                Amount
            </th>
            <th>
                Discount
            </th>
            <th>
                Tax
            </th>
            <th>
                Tax Amount
            </th>
            <th>
                Invoice Amount
            </th>
            <th>
                Paid Amount
            </th>
            <th>
                Paid On
            </th>
        </tr>
        }

        <tr @if ((Count % 2) == 0)
            { <text> class="TableRow" </text> }
            else
            { <text> class="altTableRow" </text>} >
            <td >
                @Html.ActionLink("Payment", "Payment", new { id = item.SubscriptionInvoiceID }, new { @class = "EditDelete" })                |
                @Html.ActionLink("Details", "Details", new { id = item.SubscriptionInvoiceID }, new { @class = "EditDelete" })
                @*@Html.ActionLink("Delete", "Delete", new { id = item.SubscriptionInvoiceID }, new { @class = "EditDelete" })*@
            </td>
            <td >
                @item.InvoiceNo
            </td>
            <td width="70px">
                @String.Format("{0:dd-MMM-yyyy}", item.InvoiceDate)
            </td>
            <td width="75px">
                @String.Format("{0:dd-MMM-yyyy}", item.DueDate)
            </td>
            <td >
                @if (item.SubscriberID == null)
                {
                    @item.Society.Name
                }
                else
                {
                    @item.Subscriber.Name
                }
            </td>
            <td>
            @if (item.SubscriberID != null && item.Subscriber.ContactPerson != null)
            {
                 @item.Subscriber.ContactPerson
            }
            @if (item.SocietyID != null && item.Society.ContactPerson != null)
            {
                 @item.Society.ContactPerson
            } 
            </td>
            <td>
            @if (item.SubscriberID != null && item.Subscriber.Phone != null)
            {
                 @item.Subscriber.Phone
            }
            @if (item.SocietyID != null && item.Society.Phone != null)
            {
                 @item.Society.Phone
            } 
            </td>
            <td>
            @if (item.SubscriberID != null)
            {
                @item.Subscriber.Mobile
            }
            @if (item.SocietyID != null && item.Society.Mobile != null)
            {
                 @item.Society.Mobile
            } 
            </td>
            <td>
                @item.CouponNo
            </td>
            <td>
                @String.Format("{0:0.00}", item.Amount)
            </td>
            <td>
                @String.Format("{0:0.00}", item.Discount)
            </td>
            <td >
                @String.Format("{0:0.00}", item.Tax)
            </td>
            <td>
                @String.Format("{0:0.00}", item.TaxAmount)
            </td>
            <td>
                @String.Format("{0:0.00}", item.InvoiceAmount)
            </td>
            <td>
                @String.Format("{0:0.00}", item.PaidAmount)
            </td>
            <td width="70px">
                @String.Format("{0:dd-MMM-yyyy}", item.PaidOn)
            </td>
        </tr>
           Count = Count + 1;
    }
    @if (Count == 1)
    {<tr class="TableRow">
        <td>
            Currently there are no Records
        </td>
    </tr> }
</table>
