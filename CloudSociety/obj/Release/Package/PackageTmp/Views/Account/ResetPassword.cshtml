@model CloudSociety.Models.ResetPasswordModel
@{
    ViewBag.Title = "Reset Password";
    ViewBag.Header = "Reset Password";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@if (ViewBag.PasswordQuestion == "Sorry You have not set your password question !!" || ViewBag.PasswordQuestion == "Given Username does not exist.")
{
    <fieldset style="width: 650px">
        <legend>Reset Password</legend>
        <br />
        <h3>
            @ViewBag.PasswordQuestion
        </h3>
        <br />
        <div>
            @Html.ActionLink("Try Again", "AskUserName", "Account", null, new { @class = "EditDelete" })
            |
            @Html.ActionLink("Exit", "Index", "Home", null, new { @class = "EditDelete" })
        </div>
    </fieldset>
}
else
{
    <span class="SocName">User Name : @ViewBag.userName</span>
    
                                 using (Html.BeginForm())
                                 {
    @Html.Hidden("UserName", (string)ViewBag.userName)
    @Html.Hidden("PasswordQuestion", (string)ViewBag.PasswordQuestion)
    @Html.ValidationSummary(false, "Following errors occurred while processing your request")
    <br />
    <fieldset style="width: 650px">
        <legend>Reset Password</legend>
        <br />
        <table border="0">
            <tr>
                <td colspan="2">
                    Please type the answer of your Password Question .
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    @ViewBag.PasswordQuestion
                </td>
            </tr>
            <tr>
                <td colspan="2" align="right">
                    @Html.Password("PasswordAnswer", null, new { @class = "maxWidth" })@*@Html.EditorFor(model => model.PasswordAnswer)*@
                    <span class="editor-field">@Html.ValidationMessageFor(model => model.PasswordAnswer)</span>
                </td>
            </tr>
            <tr>
                <td width="125px">
                    New Password :
                </td>
                <td>
                    @Html.Password("NewPassword", null, new { @class = "mediumWidth" })@*@Html.EditorFor(model => model.NewPassword)*@
                    <span class="editor-field">@Html.ValidationMessageFor(model => model.ConfirmPassword)</span>
                </td>
            </tr>
            <tr>
                <td width="125px">
                    Confirm Password :
                </td>
                <td>@Html.Password("ConfirmPassword", null, new { @class = "mediumWidth" })@*@Html.EditorFor(model => model.ConfirmPassword)*@
                    <span class="editor-field">@Html.ValidationMessageFor(model => model.ConfirmPassword)</span>
                </td>
            </tr>
            <tr>
                <td>
                </td>
                <td align="center">
                    <table border="0" width="100%">
                        <tr>
                            <td >
                                @Html.ActionLink(" Cancel ", "Index", "Home", null, new { @class = "buttton" })
                            </td>
                           
                            <td align="left">
                                <input id="submit" type="submit" value="Next" class="buttton" style="width: 45px;
                                    height: 24px;" />
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </fieldset>
   
                                 }
}
